<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Authentification à multi-facteur{% endblock %}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">

    {% block stylesheets %}
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
        <style>
            body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                background: #f8f9fa;
            }
            .container {
                background: #fff;
                padding: 2rem;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                max-width: 400px;
                width: 100%;
            }
            .qr-code {
                display: block;
                margin: 1rem auto;
                max-width: 180px;
            }
        </style>
    {% endblock %}

    {% block javascripts %}
        {% block importmap %}{{ importmap('app') }}{% endblock %}
    {% endblock %}
</head>
<body>
{% block body %}
    <div class="container text-center">
        <h1 class="mb-3">2FA</h1>

        {{ form_start(myForm) }}
        {{ form_row(myForm.secret) }}
        <p>Secret : <strong>{{ secret }}</strong></p>
        <img class="qr-code" src="{{ qr_code_data_uri(qrCodeContent) }}" alt="QR Code 2FA">
        <button type="submit" class="btn btn-primary mt-3">Activer 2FA</button>
        {{ form_end(myForm) }}
    </div>
{% endblock %}
</body>
</html>
